{
  "info": {
    "name": "MovieMind API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "item": [
    {
      "name": "Movies - List",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/v1/movies?q=matrix",
          "host": ["{{baseUrl}}"],
          "path": ["api","v1","movies"],
          "query": [{"key":"q","value":"matrix"}]
        }
      },
      "response": [
        {
          "name": "200 OK",
          "status": "OK",
          "code": 200,
          "header": [{"key":"Content-Type","value":"application/json"}],
          "body": "{\n  \"data\": [\n    {\n      \"id\": 1,\n      \"slug\": \"the-matrix\",\n      \"title\": \"The Matrix\",\n      \"release_year\": 1999,\n      \"director\": \"The Wachowskis\",\n      \"_links\": {\n        \"self\": \"http://localhost:8000/api/v1/movies/the-matrix\",\n        \"people\": \"http://localhost:8000/api/v1/movies/the-matrix\"\n      }\n    }\n  ]\n}"
        }
      ]
    },
    {
      "name": "Movies - Show (by slug)",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/v1/movies/the-matrix",
          "host": ["{{baseUrl}}"],
          "path": ["api","v1","movies","the-matrix"]
        }
      },
      "response": [
        {
          "name": "200 OK",
          "status": "OK",
          "code": 200,
          "header": [{"key":"Content-Type","value":"application/json"}],
          "body": "{\n  \"id\": 1,\n  \"slug\": \"the-matrix\",\n  \"title\": \"The Matrix\",\n  \"release_year\": 1999,\n  \"director\": \"The Wachowskis\",\n  \"default_description\": {\n    \"id\": 10,\n    \"locale\": \"en-US\",\n    \"text\": \"A hacker discovers the truth about reality...\",\n    \"context_tag\": \"modern\"\n  },\n  \"_links\": {\n    \"self\": \"http://localhost:8000/api/v1/movies/the-matrix\",\n    \"people\": \"http://localhost:8000/api/v1/movies/the-matrix\",\n    \"generate\": {\n      \"href\": \"http://localhost:8000/api/v1/generate\",\n      \"method\": \"POST\",\n      \"body\": {\n        \"entity_type\": \"MOVIE\",\n        \"entity_id\": 1\n      }\n    }\n  }\n}"
        }
      ]
    },
    {
      "name": "People - Show (by slug)",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/v1/people/christopher-nolan",
          "host": ["{{baseUrl}}"],
          "path": ["api","v1","people","christopher-nolan"]
        }
      },
      "response": [
        {
          "name": "200 OK",
          "status": "OK",
          "code": 200,
          "header": [{"key":"Content-Type","value":"application/json"}],
          "body": "{\n  \"id\": 123,\n  \"slug\": \"christopher-nolan\",\n  \"name\": \"Christopher Nolan\",\n  \"bios\": [ { \"locale\": \"en-US\", \"text\": \"Short bio...\" } ],\n  \"movies\": [ { \"id\": 2, \"slug\": \"inception\", \"title\": \"Inception\" } ],\n  \"_links\": {\n    \"self\": \"http://localhost:8000/api/v1/people/christopher-nolan\",\n    \"movies\": \"http://localhost:8000/api/v1/movies\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Generate - MOVIE",
      "request": {
        "method": "POST",
        "header": [{"key":"Content-Type","value":"application/json"}],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"entity_type\": \"MOVIE\",\n  \"entity_id\": 1,\n  \"locale\": \"pl-PL\",\n  \"context_tag\": \"modern\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/v1/generate",
          "host": ["{{baseUrl}}"],
          "path": ["api","v1","generate"]
        }
      },
      "response": [
        {
          "name": "200 OK",
          "status": "OK",
          "code": 200,
          "header": [{"key":"Content-Type","value":"application/json"}],
          "body": "{\n  \"job_id\": \"7f9d5a7c-6e6c-4f3a-9c5b-3a7f9b8b1e2d\",\n  \"status\": \"PENDING\"\n}"
        },
        {
          "name": "403 Feature off",
          "status": "Forbidden",
          "code": 403,
          "header": [{"key":"Content-Type","value":"application/json"}],
          "body": "{\n  \"error\": \"Feature not available\"\n}"
        }
      ]
    },
    {
      "name": "Generate - PERSON",
      "request": {
        "method": "POST",
        "header": [{"key":"Content-Type","value":"application/json"}],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"entity_type\": \"PERSON\",\n  \"entity_id\": 123,\n  \"locale\": \"en-US\",\n  \"context_tag\": \"scholarly\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/v1/generate",
          "host": ["{{baseUrl}}"],
          "path": ["api","v1","generate"]
        }
      },
      "response": [
        {
          "name": "200 OK",
          "status": "OK",
          "code": 200,
          "header": [{"key":"Content-Type","value":"application/json"}],
          "body": "{\n  \"job_id\": \"7f9d5a7c-6e6c-4f3a-9c5b-3a7f9b8b1e2d\",\n  \"status\": \"PENDING\"\n}"
        },
        {
          "name": "403 Feature off",
          "status": "Forbidden",
          "code": 403,
          "header": [{"key":"Content-Type","value":"application/json"}],
          "body": "{\n  \"error\": \"Feature not available\"\n}"
        }
      ]
    },
    {
      "name": "Jobs - Show",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/v1/jobs/{{jobId}}",
          "host": ["{{baseUrl}}"],
          "path": ["api","v1","jobs","{{jobId}}"]
        }
      },
      "response": [
        {
          "name": "200 OK",
          "status": "OK",
          "code": 200,
          "header": [{"key":"Content-Type","value":"application/json"}],
          "body": "{\\n  \\\"id\\\": \\\"7f9d5a7c-6e6c-4f3a-9c5b-3a7f9b8b1e2d\\\",\\n  \\\"status\\\": \\\"PENDING\\\"\\n}"
        }
      ]
    }
    ,
    {
      "name": "Movies - Show (missing slug => 202 when generation on)",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/v1/movies/annihilation",
          "host": ["{{baseUrl}}"],
          "path": ["api","v1","movies","annihilation"]
        }
      },
      "response": [
        {
          "name": "202 Accepted",
          "status": "Accepted",
          "code": 202,
          "header": [{"key":"Content-Type","value":"application/json"}],
          "body": "{\n  \"job_id\": \"c6de4a2f-1111-2222-3333-abcdefabcdef\",\n  \"status\": \"PENDING\",\n  \"slug\": \"annihilation\"\n}"
        }
      ]
    },
    {
      "name": "People - Show (missing slug => 202 when generation on)",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/api/v1/people/john-doe",
          "host": ["{{baseUrl}}"],
          "path": ["api","v1","people","john-doe"]
        }
      },
      "response": [
        {
          "name": "202 Accepted",
          "status": "Accepted",
          "code": 202,
          "header": [{"key":"Content-Type","value":"application/json"}],
          "body": "{\n  \"job_id\": \"d7ee4a2f-4444-5555-6666-bbcdefabcdef\",\n  \"status\": \"PENDING\",\n  \"slug\": \"john-doe\"\n}"
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Flags - List",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/v1/admin/flags",
              "host": ["{{baseUrl}}"],
              "path": ["api","v1","admin","flags"]
            }
          }
        },
        {
          "name": "Flags - Toggle ai_description_generation (on)",
          "request": {
            "method": "POST",
            "header": [{"key":"Content-Type","value":"application/json"}],
            "body": {"mode":"raw","raw":"{\n  \"state\": \"on\"\n}"},
            "url": {
              "raw": "{{baseUrl}}/api/v1/admin/flags/ai_description_generation",
              "host": ["{{baseUrl}}"],
              "path": ["api","v1","admin","flags","ai_description_generation"]
            }
          }
        },
        {
          "name": "Flags - Toggle ai_bio_generation (on)",
          "request": {
            "method": "POST",
            "header": [{"key":"Content-Type","value":"application/json"}],
            "body": {"mode":"raw","raw":"{\n  \"state\": \"on\"\n}"},
            "url": {
              "raw": "{{baseUrl}}/api/v1/admin/flags/ai_bio_generation",
              "host": ["{{baseUrl}}"],
              "path": ["api","v1","admin","flags","ai_bio_generation"]
            }
          }
        },
        {
          "name": "Flags - Usage",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/v1/admin/flags/usage",
              "host": ["{{baseUrl}}"],
              "path": ["api","v1","admin","flags","usage"]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {"key":"baseUrl","value":"http://localhost:8000"},
    {"key":"jobId","value":"7f9d5a7c-6e6c-4f3a-9c5b-3a7f9b8b1e2d"}
  ]
}


